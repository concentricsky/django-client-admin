(function(e){e.fn.clickToggle=function(t,n){var r=[t,n];this.data("toggleclicked",0);this.click(function(){var t=e(this).data();var n=t.toggleclicked;e.proxy(r[n],this)();t.toggleclicked=(n+1)%2});return this};e(document).ready(function(){e("fieldset.collapse").each(function(t,n){if(e(n).find("div.errors").length==0){var r=e("<a/>",{href:"javascript:void(0)","class":"collapse-toggle"}).html(gettext("Show"));e(n).addClass("collapsed").find("h2").first().append(r);r.clickToggle(function(){e(this).text(gettext("Hide")).closest("fieldset").removeClass("collapsed").trigger("show.fieldset",[e(this).attr("id")]);return false},function(){e(this).text(gettext("Show")).closest("fieldset").addClass("collapsed").trigger("hide.fieldset",[e(this).attr("id")]);return false})}})})})(django.jQuery)